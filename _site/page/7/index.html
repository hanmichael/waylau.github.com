<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="Way Lau's Personal Site | www.waylau.com">
  <meta name="author" content="Way Lau">
  <meta name="keywords" content="Way Lau's Personal Site | www.waylau.com, Way Lau's Blog, 技术改变世界！, Way Lau">
  <title>Way Lau's Personal Site | www.waylau.com</title>
  <link rel="canonical" href="http://www.waylau.com">
  <link rel="icon" href="/res/img/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/res/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/res/css/public.css">
  <link rel="stylesheet" href="/res/css/light.css">
  <script src="/res/js/light.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?28cf5fa48a599e39c5cc760931de942f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
</head>
<body>
  <div id="blog">
    <div class="sidebar">
  <div class="profilepic">
    <a href="/"><img src="/res/img/icon.png" alt="logo"></img></a>
  </div>
  <h1 class="title"><a href="/">Way Lau's Blog</a></h1>
  <h2 class="sub-title">技术改变世界！</h2>
  <nav id="nav">
    <ul>
    
      <li><a href="/timing/"><i class="fa fa-clock-o"></i>&nbsp;时光机</a></li>
    
      <li><a href="/categories/"><i class="fa fa-tags"></i>&nbsp;分类</a></li>
    
      <li><a href="/tags/"><i class="fa fa-bookmark"></i>&nbsp;标签</a></li>
    
      <li><a href="http://labs.waylau.com/"><i class="fa fa-building"></i>&nbsp;示例</a></li>
    
      <li><a href="/books/"><i class="fa fa-book"></i>&nbsp;书籍</a></li>
    
      <li><a href="/about/"><i class="fa fa-paper-plane-o"></i>&nbsp;关于</a></li>
    
    </ul>
  </nav>  
  <nav id="sub-nav">
    <a class="weibo " href="http://weibo.com/waylau521" title="新浪微博" target="_blank"><i class="fa fa-weibo "></i></a>
    <a class="github" href="https://github.com/waylau" title="GitHub" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    <a class="twitter" href="https://twitter.com/waylau521" title="Twitter" target="_blank"><i class="fa fa-twitter fa-2x"></i></a>
    <a class="rss" href="/page/feed.xml" title="RSS订阅" target="_blank"><i class="fa fa-rss"></i></a>
  </nav>
  <div id="license">
    <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" title="本站所有作品采用：&#10;知识共享《署名 非商业性使用 相同方式共享 3.0》&#10;进行许可" >
    <img alt="License" height="31" width="88" src="/res/img/license.png" /></a>
  </div>
</div>
    <div class="main">
    
<div class="posts">
  <section class="post">
    <header class="post-header">
      <h1 class="post-title"><a href="/github-use-watch-star-fork/">Github中watch、star、fork的用法</a></h1>
      <p class="post-meta">
        <i class="fa fa-calendar"></i>
        2014年06月18日
        <i class="space"></i>
        <i class="fa fa-tags"></i>
        <a class="post-category" href="/page/category.html#git">git</a>
      </p>
    </header>
    <div class="post-main">
      <p>Github中watch、star、fork的如何用？</p>

<p><img src="http://d.hiphotos.bdimg.com/album/s%3D550%3Bq%3D90%3Bc%3Dxiangce%2C100%2C100/sign=09e046edca95d143de76e42643cbf33f/d833c895d143ad4b9a54ec2e80025aafa50f06e1.jpg?referer=6534140ab11c87018fa186d662a0&x=.jpg"/></p>

<p>看到某人的repository，其实如果觉得有帮助，可以 star 或者 watch， 如果 fork 到你的 repositories 下则不能保证你的 repo 是最新的，除非是主动定期的 pull。</p>

<ul>
<li>star 的作用是收藏，目的是方便以后查找。</li>
<li>watch 的作用是关注，目的是等我更新的时候，你可以收到通知。</li>
<li>fork 的作用是参与，目的是你增加新的内容，然后 Pull Request，原作者会考虑把你的修改和原作者原来的内容合并。</li>
</ul>


<p>请选择合理的方式。</p>

      <div class="readall"><a href="/github-use-watch-star-fork/" id="post-readall">阅读全文&nbsp;<i class="fa fa-chevron-right"></i></a></div>
    </div>
  </section>
</div>

<div class="posts">
  <section class="post">
    <header class="post-header">
      <h1 class="post-title"><a href="/svg-using-external-image/">在SVG中使用外部绘图</a></h1>
      <p class="post-meta">
        <i class="fa fa-calendar"></i>
        2014年06月12日
        <i class="space"></i>
        <i class="fa fa-tags"></i>
        <a class="post-category" href="/page/category.html#svg">svg</a>
      </p>
    </header>
    <div class="post-main">
      <p>您可以在 SVG 文档中包括预定义的内容 —— 在呈现的文档内或文档之外定义的内容。</p>

<h1>引用内部绘图</h1>

<p>symbol,defs 都可以事先定义好图形，而后use来引用</p>

<pre><code class="svg">&lt;svg  width="200" height="200" version="1.1"
        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;symbol id="shape2"&gt;
        &lt;circle cx="25" cy="25" r="25"&gt;&lt;/circle&gt;
        &lt;title&gt;My image&lt;/title&gt;
    &lt;/symbol&gt;

    &lt;defs&gt;
        &lt;g id="shape3"&gt;
            &lt;circle cx="25" cy="25" r="25" fill="red"&gt;&lt;/circle&gt;
        &lt;/g&gt;
    &lt;/defs&gt;
    &lt;use xlink:href="#shape2" x="50" y="25" &gt;&lt;/use&gt;
    &lt;use xlink:href="#shape3" x="150" y="25" &gt;&lt;/use&gt;
&lt;/svg&gt;
</code></pre>

<p><svg  width="200" height="200"  version="1.1"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<symbol id="shape2">
<circle cx="25" cy="25" r="25"></circle>
<title>My image</title>
</symbol>
<defs>
<g id="shape3">
   <circle cx="25" cy="25" r="25" fill="red"></circle>
</g>
</defs>
<use xlink:href="#shape2" x="50" y="25" ></use>
<use xlink:href="#shape3" x="150" y="25" ></use>
</svg></p>

<p>有关symbol,defs的异同点，可以参考<a href="http://www.html5zhan.com/jingyan/info/530577c72e05e83b801642dc">这篇文章</a></p>

<h1>引用外部绘图</h1>

<p>我们事先已经准备好了一个外部绘图svg文件<a href="../assets/img/svg-file-test.svg">svg-file-test.svg</a></p>

<h2>1.使用&lt;image&gt;</h2>

<p>使用预定义内容作为 SVG 绘图一部分的方法之一是使用 &lt;image&gt;元素。在概念上，SVG 中的&lt;image&gt;与 HTML 中的 &lt;img&gt;非常类似：该元素只须指示呈现客户机在当前的 SVG 环境中绘制外部图像的内容 —— 其本身可能是 SVG 或者是 JPEG 或 PNG 格式的光栅图像。您几乎可以像调整一个规则的图形元素那样来调整外部图像的大小和改变其位置</p>

<pre><code class="svg">&lt;svg  width="100%" height="100%" version="1.1"
        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;image  x="0" y="0" width="300" height="200"  xlink:href="../assets/img/svg-file-test.svg"&gt;&lt;/image&gt;

    &lt;image  x="0" y="200" width="300" height="200"  xlink:href="../assets/img/wl_white.png"&gt;&lt;/image&gt;
&lt;/svg&gt;
</code></pre>

<p><svg   width="100%" height="100%" version="1.1"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<image  x="0" y="0" width="300" height="200"  xlink:href="../assets/img/svg-file-test.svg"></image>
<image  x="0" y="200" width="300" height="200"  xlink:href="../assets/img/wl_white.png"></image>
</svg></p>

<h2>2.使用&lt;use&gt;元素</h2>

<p>任何svg, symbol, g, 单个的图形元素和use元素本质上都可以作为模板对象被use元素引用(例如初始化)。use引用的图形内容会在指定的位置渲染。与image元素不同，use元素不能引用整个文档。</p>

<pre><code class="svg">&lt;svg    width="100%" height="100%" version="1.1"
        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
    &lt;use xlink:href="../assets/img/svg-file-test.svg#svg2" x="0" y="0"  width="100" height="100" &gt;&lt;/use&gt;
    &lt;use xlink:href="../assets/img/svg-file-test.svg#rect2985" x="0" y="325"  width="300" height="200" &gt;&lt;/use&gt;
&lt;/svg&gt;
</code></pre>

<p><svg    width="100%" height="100%" version="1.1"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<use xlink:href="../assets/img/svg-file-test.svg#svg2" x="0" y="0"  width="100" height="100" ></use>
<use xlink:href="../assets/img/svg-file-test.svg#rect2985" x="0" y="325"  width="300" height="200" ></use>
</svg></p>

<p>第一个use引用了该文件的整个svg元素。</p>

<p>第二个use引用了该文件的rect元素。</p>

      <div class="readall"><a href="/svg-using-external-image/" id="post-readall">阅读全文&nbsp;<i class="fa fa-chevron-right"></i></a></div>
    </div>
  </section>
</div>

<div class="posts">
  <section class="post">
    <header class="post-header">
      <h1 class="post-title"><a href="/javascript-use-strict-mode/">JavaScript使用严格模式(Strict Mode)</a></h1>
      <p class="post-meta">
        <i class="fa fa-calendar"></i>
        2014年06月07日
        <i class="space"></i>
        <i class="fa fa-tags"></i>
        <a class="post-category" href="/page/category.html#javascript">javascript</a>
      </p>
    </header>
    <div class="post-main">
      <p>ECMAScript5中引入的严格模式,通过让JavaScript运行环境对一些开发过程中最常见和不易发现的错误做出和当前不同的处理,来让开发者拥有一个”更好”的JavaScript语言。很长一段时间内,由于只有Firefox支持严格模式,我曾对严格模式表示怀疑。但到了今天,所有主流的浏览器都在他们的最新版本中支持了严格模式(包括IE10,Opera12和Android4,IOS5)是时候开始使用严格模式了。</p>

<h1>严格模式能起到什么作用?</h1>

<p>严格模式为JavaScript引入了很多变化,我把他们分为两类(明显的和细微的)。细微改进的目标是修复当前JavaScript中的一些细节问题,对于这些问题我不在这里进行深入介绍;如果你有兴趣,请阅读Dmitry Soshnikov撰写的精彩文档<a href="http://dmitrysoshnikov.com/ecmascript/es5-chapter-2-strict-mode/">ECMA-262-5 in Detail Chapter 2 Strict Mode</a>。 我在这里主要介绍严格模式引入的明显变化,那些在你使用严格模式前应该知道的概念和那些对你帮助最大的改变。</p>

<p>在开始学习具体特性前,请记住<code>严格模式的一大目标是让你能更快更方便的调试</code>。运行环境在发现问题时显性的抛出错误比默不做声的失败或怪异行事(未开启严格模式的JavaScript运行环境经常这样)要好。严格模式会抛出更多错误,但这是好事,因为这些错误会唤起你注意并修复很多以前很难被发现的潜在问题。</p>

<h2>去除with关键词</h2>

<p>首先,严格模式中去除了with语句,包含with语句的代码在严格模式中会抛出异常。所以使用严格模式的第一步:确保你的代码中没有使用with。</p>

<pre><code>// 在严格模式中以下JavaScript代码会抛出错误
with (location) {
    alert(href);
}
</code></pre>

<h2>防止意外为全局变量赋值</h2>

<p>其次,局部变量在赋值前必须先进行申明。在启用严格模式之前,为一个未申明的局部变量复制时会自动创建一个同名全局变量。这是Javacript程序中最容易出现的错误之一, 在严格模式中尝试这么做时会有显性的异常抛出。</p>

<pre><code>// 严格模式下会抛出异常
(function() {
    someUndeclaredVar = "foo";
}());
</code></pre>

<h2>函数中的this不再默认指向全局</h2>

<p>严格模式中另一个重要的变化是函数中未被定义或为空( null or undefined)的this不在默认指向全局环境(global)。这会造成一些依赖函数中默认this行为的代码执行出错,例如:</p>

<pre><code>window.color = "red";
function sayColor() {
    alert(this.color);
}
// 在strict模式中会报错, 如果不在严格模式中则提示 “red"
sayColor();
// 在strict模式中会报错, 如果不在严格模式中则提示 “red"
sayColor.call(null);
</code></pre>

<p>this在被赋值之前会一直保持为undefined,这意味着当一个构造函数在执行时,如果之前没有明确的new关键词,会抛出异常。</p>

<pre><code>function Person(name) {
    this.name = name;
}
//在严格模式中会报错
var me = Person("Nicholas");
</code></pre>

<p>在上面的代码中,Person构造函数运行时因为之前没有new,函数中的this会保留为undefined, 由于你不能为undefined设置属性,上面的代码会抛出错误。 在非strict模式环境中,没有被复制的this会默认指向window全局变量,运行的结果将是意外的为window全局变量设置name属性。</p>

<h2>防止重名</h2>

<p>当编写大量代码时,对象属性和函数参数很容易一不小心被设置成一个重复的名字。严格模式在这种情况下会显性的抛出错误</p>

<pre><code>//重复的变量名,在严格模式下会报错
function doSomething(value1, value2, value1) {
    //code
}

//重复的对象属性名,在严格模式下会报错:
var object = {
    foo: "bar",
    foo: "baz"
};
</code></pre>

<p>以上的代码在严格模式中都会被认为是语法错误而在执行前就让你能得到提示。</p>

<h2>安全的 eval()</h2>

<p>虽然eval()语句最终没有被移除,但在严格模式中仍然对它进行了一些改进。最大的改变是在eval()中执行的变量和函数申明不会直接在当前作用域中创建相应变量或函数,例如:</p>

<pre><code>(function() {
    eval("var x = 10;");
    // 非严格模式中,alert 10
    // 严格模式中则因x未被定义而抛出异常,
    alert(x);
}());
</code></pre>

<p>任何在eval()执行过程中创建的变量或者函数保留在eval()中。但你能明确的从eval()语句的返回值来获取eval()中的执行结果,例如:</p>

<pre><code>(function() {
    var result = eval("var x = 10, y = 20; x + y");
    // 在strict或非strict模式中都能正确的运行余下的语句.(resulst为30)
    alert(result);
}());
</code></pre>

<h2>对只读属性修改时抛出异常</h2>

<p>ECMAScript5中还引入为对象的特定属性设为只读,或让整个对象不可修改的能力。 但在非严格模式中,尝试修改一个只读属性只会默不做声的失败。 在你和一些浏览器原生API打交道过程中,你很可能遇到这种情况。严格模式会在这种情况下明确的抛出异常,提醒你修改这个属性是不被允许的。</p>

<pre><code>var person = {};
Object.defineProperty(person, "name" {
    writable: false,
    value: "Nicholas"
});
// 在非严格模式时,沉默的失败,在严格模式则抛出异常.
person.name = "John";
</code></pre>

<p>上面的例子中,name属性被设为只读,非严格模式中执行对name属性的修改不会引发报错,但修改不会成功。但严格模式则会明确的抛出异常。</p>

<p><em>NOTE:</em> 强烈建议你在使用任何ECMAScript属性特性指定时开启严格模式。</p>

<h2>如何使用?</h2>

<p>在现代浏览器中开启严格模式非常容易,只需要在JavaScript代码中出现以下指令即可</p>

<pre><code>"use strict";
</code></pre>

<p>虽然看上去上面的代码仅仅只是未赋予某个变量的字符串,它实际上起到指示JavaScript引擎切换到严格模式的作用(不支持严格模式的浏览器会忽略以上代码,不会对后续的执行产生任何影响)。虽然你能把这个指令作用到全局或某个函数中,但这里还是要提醒,不要在全局环境下启用严格模式。</p>

<pre><code>// 请不要这么使用
"use strict";
function doSomething() {
    // 这部分代码会运行于严格模式
}
function doSomethingElse() {
    // 这部分代码也会运行于严格模式
}
</code></pre>

<p>虽然上面的代码看起来不算一个大问题。但当你不负责维护页面中引入的全部代码时,这样使用strict模式会让你面临由于第三方代码没有为严格模式做好准备而引发的问题。
因此,最好把开启严格模式的指令作用于函数中,例如:</p>

<pre><code>function doSomething() {
    "use strict";
    // 这个函数中的代码将会运行于严格模式
}
function doSomethingElse() {
    // 这个函数中代码不会运行于严格模式
}
</code></pre>

<p>如果你想让严格模式在不止一个函数中开启,请使用立即执行函数表达式</p>

<pre><code>(immediately-invoked function expression ,IIFE):
(function() {
    "use strict";
    function doSomething() {
        // 这个函数运行于严格模式
    }
    function doSomethingElse() {
        // 这个函数同样运行于严格模式
    }
}());
</code></pre>

<h1>结论</h1>

<p>我强烈建议你从现在开始就启用JavaScript严格模式,它能帮你发现代码中未曾注意到的错误。不要在全局环境中启用,但你能尽量多的使用IIFE(立即执行函数表达式)来把严格模式作用到多个函数范围内。一开始,你会遇到之前未曾碰到过的错误提示,这是正常的。当启用严格模式后,请确保在支持的浏览器中做了测试,以发现新的潜在问题。一定不要仅仅在代码中添加一行”use strict”就假定余下的代码能正常工作。最后,请在严格模式下开始编写更好的代码。</p>

<h1>注：</h1>

<p><a href="http://caniuse.com/use-strict">这里</a>有各款浏览器对严格模式支持情况的一个汇总。</p>

<p>可以在这个<a href="http://java-script.limewebs.com/strictMode/test_hosted.html">页面</a>对当前浏览器的严格模式支持度进行测试。</p>

<p>参考：</p>

<ul>
<li><p><a href="http://www.nczonline.net/blog/2012/03/13/its-time-to-start-using-javascript-strict-mode/">http://www.nczonline.net/blog/2012/03/13/its-time-to-start-using-javascript-strict-mode/</a></p></li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode</a></p></li>
</ul>


      <div class="readall"><a href="/javascript-use-strict-mode/" id="post-readall">阅读全文&nbsp;<i class="fa fa-chevron-right"></i></a></div>
    </div>
  </section>
</div>

<div class="posts">
  <section class="post">
    <header class="post-header">
      <h1 class="post-title"><a href="/svg-viewport-view-box/">SVG Viewport和View Box</a></h1>
      <p class="post-meta">
        <i class="fa fa-calendar"></i>
        2014年06月03日
        <i class="space"></i>
        <i class="fa fa-tags"></i>
        <a class="post-category" href="/page/category.html#svg">svg</a>
      </p>
    </header>
    <div class="post-main">
      <p>SVG Viewport和View Box用来设置图像的可见部分的尺寸。</p>

<h2>Viewport（视口）</h2>

<p>Viewport：视口，视觉窗口，是SVG图像的可见区域。SVG图像逻辑上是能显示你想要的宽和高，但实际上同一时间仅图像的某一部分是可见的。该可见的区域被称为Viewport。</p>

<p>您可以通过&lt;svg&gt;元素的<code>width</code>和<code>height</code>指定使用的Viewport宽度和高度的下面是一个例子：</p>

<pre><code>&lt;svg width="500" height="300"&gt;&lt;/svg&gt;
</code></pre>

<p>这例子定义了一个Viewport，500个单位宽和300个单位高。</p>

<h2>坐标单位</h2>

<p>如果你不指定任何内部宽度和高度属性的单位，单位都假定为像素。即，宽度500表示500个像素的宽度。</p>

<p>除了像素，还可以使用下面的单位：</p>

<table>
<thead>
<tr>
<th>单位 </th>
<th> 描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>em   </td>
<td>默认字体大小 ，通常是一个字符高度</td>
</tr>
<tr>
<td>ex   </td>
<td>x字符的高度</td>
</tr>
<tr>
<td>px   </td>
<td>像素</td>
</tr>
<tr>
<td>pt   </td>
<td>点（一英寸的1/72）</td>
</tr>
<tr>
<td>pc   </td>
<td>派卡（一英寸的1/6）</td>
</tr>
<tr>
<td>cm   </td>
<td>厘米</td>
</tr>
<tr>
<td>mm   </td>
<td>毫米</td>
</tr>
<tr>
<td>in   </td>
<td>英寸</td>
</tr>
</tbody>
</table>


<p>在&lt;svg&gt;元素里面设置单位只会影响的&lt;svg&gt;的大小（即Viewport）。在SVG图像中显示的SVG图形的大小由你对每个图形设置的单位决定。如果没有指定单位，各单位将默认为像素。</p>

<p>下面是一个例子：</p>

<pre><code>&lt;svg width="10cm" height="10cm"&gt;
    &lt;rect x="50" y="100" width="50" height="50"
          style="stroke: #000000; fill: none;"/&gt;
    &lt;rect x="100" y="100" width="50mm" height="50mm"
          style="stroke: #000000; fill: none;" /&gt;
&lt;/svg&gt;
</code></pre>

<p>该&lt;svg&gt;图像有其单位设置为厘米。两个&lt;rect&gt;元素都有自己的单位设置。一个使用像素（没有单位明确设定），另一个使用毫米。</p>

<p>这里是所得到的图象，右边的（单位毫米）大于左边（单位像素）。</p>

<p><svg width="10cm" height="10cm">
<rect x="50" y="100" width="50" height="50"
  style="stroke: #000000; fill: none;"/>
<rect x="100" y="100" width="50mm" height="50mm"
  style="stroke: #000000; fill: none;" />
</svg></p>

<h2>View Box</h2>

<p>您可以重新在&lt;svg&gt;元素内部定义没有单位的坐标，通过<code>viewBox</code>属性来实现。下面是一个例子：</p>

<pre><code>&lt;svg width="500" height="200" viewBox="0 0 50 20" style="border: 1px solid #234567;"&gt;
    &lt;rect x="20" y="10" width="10" height="5"
          style="stroke: #000000; fill:none;"/&gt;
&lt;/svg&gt;
</code></pre>

<p>此示例创建一个&lt;svg&gt;为500像素宽和200像素高，宽度元素的的<code>viewBox</code>属性包含四个坐标。这些坐标就定义了&lt;svg&gt;的<code>viewBox</code>属性。</p>

<p>在这种情况下，View Box跨度从0,0到50,20。这意味着，500 x 200像素 &lt;svg&gt;元素内部使用一个坐标系，它从0,0 到50,20。换言之，图形中使用的坐标，每1个单位，在&lt;svg&gt;对应于宽度500/50 = 10个像素，而在高200/20 = 10个像素。这就是为什么x轴为20及y轴为10的位置的矩形是真正位于（200,100），其宽度（10）和高度（5）对应于100个像素和50个像素。</p>

<p>另一种方式来解释它，<code>viewBox</code>属性的前两个坐标定义的是&lt;svg&gt;左上角的用户坐标，后两个坐标定义的是&lt;svg&gt;右下角的用户坐标。该&lt;svg&gt;内部的空间被解释为从左上角坐标到右下角坐标跨越。</p>

<p>这里是所得到的图象：</p>

<p><svg width="500" height="200" viewBox="0 0 50 20" style="border: 1px solid #234567;">
<rect x="20" y="10" width="10" height="5"
  style="stroke: #000000; fill:none;"/>
</svg></p>

<p>注意&lt;rect&gt;里面的所有坐标元素1个单位就代表10像素。</p>

<h2>preserveAspectRatio保持宽高比</h2>

<p>如果Viewport和View Box不具有相同的宽高比（宽度与高度之比），您需要指定SVG显示器（例如浏览器）如何显示SVG图像。使用&lt;svg&gt;的preserveAspectRatio属性。</p>

<p>该preserveAspectRatio属性需要用空格分隔的两个值。第一个值将告诉您View Box如何在Viewport中对齐。这个值本身就是两部分组成。第二个值将告诉您宽高比如何将被保留（如果有的话）。</p>

<p>第一个值指定的对齐由两部分组成。第一部分指定的x对齐和第二部分指定的y对齐。这里是x轴和y取向的值的列表：</p>

<table>
<thead>
<tr>
<th>值 </th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>xMin    </td>
<td>对齐View Box最小x轴的值与Viewport的左边缘。</td>
</tr>
<tr>
<td>xMid    </td>
<td>对齐View Box的x轴的中心与Viewport的中心x轴坐标。</td>
</tr>
<tr>
<td>xMax    </td>
<td>对齐View Box最大x轴的值与Viewport的右边缘。</td>
</tr>
<tr>
<td>YMin    </td>
<td>对齐View Box最小y轴的值与Viewport的顶部边缘。</td>
</tr>
<tr>
<td>YMid    </td>
<td>对齐View Box的y轴的中心与Viewport的中心y轴坐标。</td>
</tr>
<tr>
<td>YMin    </td>
<td>对齐View Box最大y轴的值与Viewport的底部边缘。</td>
</tr>
</tbody>
</table>


<p>这里有两个例子：</p>

<pre><code>xMaxYMax

xMidYMid
</code></pre>

<p>在preserveAspectRatio第二部分属性值可以采取三种不同的值：</p>

<table>
<thead>
<tr>
<th>值 </th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>meet </td>
<td>  保持宽高比和比例视图框，以适应内视口。</td>
</tr>
<tr>
<td>slice</td>
<td>  保留宽高比，任何不适合Viewport宽高比的图像的会被切掉。</td>
</tr>
<tr>
<td>none </td>
<td>  不保留宽高比。缩放图像以View Box充满完全适应Viewport。比例会被扭曲。</td>
</tr>
</tbody>
</table>


<p>在第二部分preserveAspectRatio属性值附加到第一部分，以空格分隔。这里有两个例子：</p>

<pre><code>preserveAspectRatio="xMidYMid meet"

preserveAspectRatio="xMinYMin slice"
</code></pre>

<p>下面的实施例都具有宽度为500，高度为75和的viewBox属性设为0 0 250 75。这意味着，沿x轴的每个坐标单元将对应于2个像素，而是沿着Y轴的每个坐标单位只对应1个像素。在x轴缩放比为500/250=2 ，y轴的缩放比为75/75=1。这可能会导致一个扭曲，但我们会在下面的例子查看如何设置各种preserveAspectRatio。</p>

<iframe style="width: 100%; height: 300px" src="http://www.w3.org/TR/SVG11/images/coords/PreserveAspectRatio.svg" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<p><a href="http://www.w3.org/TR/SVG11/images/coords/PreserveAspectRatio.svg">查看例子</a></p>

      <div class="readall"><a href="/svg-viewport-view-box/" id="post-readall">阅读全文&nbsp;<i class="fa fa-chevron-right"></i></a></div>
    </div>
  </section>
</div>

<div class="posts">
  <section class="post">
    <header class="post-header">
      <h1 class="post-title"><a href="/svg-demo-draw/">SVG与JS交互实例之画板</a></h1>
      <p class="post-meta">
        <i class="fa fa-calendar"></i>
        2014年05月30日
        <i class="space"></i>
        <i class="fa fa-tags"></i>
        <a class="post-category" href="/page/category.html#svg">svg</a>
      </p>
    </header>
    <div class="post-main">
      <p>SVG与JS交互，可以创建更加丰富的应用，以下为一个SVG画板，通过鼠标的点击事件，模拟出画笔。</p>

<iframe style="width: 100%; height: 450px" src="../assets/demos/svg-demo-draw/svg-draw.svg" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<p><a href="../assets/demos/svg-demo-draw/svg-draw.svg">查看例子</a></p>

      <div class="readall"><a href="/svg-demo-draw/" id="post-readall">阅读全文&nbsp;<i class="fa fa-chevron-right"></i></a></div>
    </div>
  </section>
</div>

<div class="posts">
  <section class="post">
    <header class="post-header">
      <h1 class="post-title"><a href="/svg-marker-arrow/">SVG &lt;marker&gt;创建箭头</a></h1>
      <p class="post-meta">
        <i class="fa fa-calendar"></i>
        2014年05月29日
        <i class="space"></i>
        <i class="fa fa-tags"></i>
        <a class="post-category" href="/page/category.html#svg">svg</a>
      </p>
    </header>
    <div class="post-main">
      <p>SVG 中&lt;line&gt;并没有箭头，可以通过&lt;marker&gt;进行扩展。</p>

<p>先定义一个箭头</p>

<pre><code>&lt;defs&gt;
    &lt;marker id="markerArrow" markerWidth="13" markerHeight="13" refx="2" refy="6" orient="auto"&gt;
        &lt;path d="M2,2 L2,11 L10,6 L2,2" style="fill: #000000;" /&gt;
    &lt;/marker&gt;
&lt;/defs&gt;
</code></pre>

<p>其中<code>orient="auto"</code>设置箭头的方向为自动适应线条的方向。</p>

<p>而后，画line ,line的<code>marker-end</code>引用上面定义好的<code>markerArrow</code>即可</p>

<pre><code>&lt;line x1="0" y1="0" x2="100" y2="50"  stroke="red" stroke-width="1" marker-end="url(#markerArrow)"  /&gt;
</code></pre>

<p>也可以应用在path中，
效果如下：</p>

<p><svg width="500" height="100">
<defs>
<marker id="markerCircle" markerWidth="8" markerHeight="8" refx="5" refy="5">
<circle cx="5" cy="5" r="3" style="stroke: none; fill:#000000;"/>
</marker>
<marker id="markerArrow" markerWidth="13" markerHeight="13" refx="2" refy="6" orient="auto">
<path d="M2,2 L2,11 L10,6 L2,2" style="fill: #000000;" />
</marker>
</defs>
<line x1="0" y1="0" x2="100" y2="50"  stroke="red" stroke-width="1" marker-end="url(#markerArrow)"  />
<path d="M100,10 L150,10 L150,60"
style="stroke: #6666ff; stroke-width: 1px; fill: none;
marker-start: url(#markerCircle);
marker-mid:url(#arrow);
marker-end: url(#markerArrow) "
/>
</svg></p>

<p>完整代码如下：</p>

<pre><code>&lt;svg width="500" height="100"&gt;
&lt;defs&gt;
    &lt;marker id="markerCircle" markerWidth="8" markerHeight="8" refx="5" refy="5"&gt;
        &lt;circle cx="5" cy="5" r="3" style="stroke: none; fill:#000000;"/&gt;
    &lt;/marker&gt;

    &lt;marker id="markerArrow" markerWidth="13" markerHeight="13" refx="2" refy="6" orient="auto"&gt;
        &lt;path d="M2,2 L2,11 L10,6 L2,2" style="fill: #000000;" /&gt;
    &lt;/marker&gt;
&lt;/defs&gt;
&lt;line x1="0" y1="0" x2="100" y2="50"  stroke="red" stroke-width="1" marker-end="url(#markerArrow)"  /&gt;
&lt;path d="M100,10 L150,10 L150,60"
      style="stroke: #6666ff; stroke-width: 1px; fill: none;
                   marker-start: url(#markerCircle);
                   marker-mid:url(#arrow);
                   marker-end: url(#markerArrow) "
        /&gt;
&lt;/svg&gt;
</code></pre>

      <div class="readall"><a href="/svg-marker-arrow/" id="post-readall">阅读全文&nbsp;<i class="fa fa-chevron-right"></i></a></div>
    </div>
  </section>
</div>

<div class="pagination">
  
  
  <a class="pagination-item newer" href="/page/6"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;上一页</a>
  
    

    
      <a href="/">1</a>
      

    
      
      <a href="/page/2">2</a>
      
    
      
      <a href="/page/3">3</a>
      
    
      
      <a href="/page/4">4</a>
      
    
      
      <a href="/page/5">5</a>
      
    
      
      <a href="/page/6">6</a>
      
    
      
      <span class="current-page">7</span>
      
    
      
      <a href="/page/8">8</a>
      
    
      
      <a href="/page/9">9</a>
      
    
      
      <a href="/page/10">10</a>
      
    
      
      <a href="/page/11">11</a>
      
    
      
      <a href="/page/12">12</a>
      
    
      
      <a href="/page/13">13</a>
      
    
      
      <a href="/page/14">14</a>
      
    
      
      <a href="/page/15">15</a>
      
    
      
      <a href="/page/16">16</a>
      
    
      
      <a href="/page/17">17</a>
      
    
      
      <a href="/page/18">18</a>
      
    
      
      <a href="/page/19">19</a>
      
    
      
      <a href="/page/20">20</a>
      
    
      
      <a href="/page/21">21</a>
      
    
      
      <a href="/page/22">22</a>
      
    
  (共129篇)

  
  <a class="pagination-item older" href="/page/8">下一页&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></a>
  
</div>

    <footer>Copyright&nbsp;&copy;&nbsp;2014 <a href="http://www.waylau.com">Way Lau's Blog</a><br/><i class="fa fa-cogs" style="color:blueviolet;">&nbsp;</i>Powered by <a href="https://github.com/waylau/jekyll-theme-blog" target="_blank">jekyll-theme-blog</a></footer>
    </div>


  </div>    
  <div id="top"><a id="rocket" href="javascript:;" title="返回顶部"><i></i></a></div>
  


</body>
</html>