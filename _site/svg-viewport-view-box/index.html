<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="Way Lau's Personal Site | www.waylau.com">
  <meta name="author" content="Way Lau">
  <meta name="keywords" content="SVG Viewport和View Box, Way Lau's Blog, Way Lau">
  <title>SVG Viewport和View Box - Way Lau's Blog</title>
  <link rel="canonical" href="http://www.waylau.com/svg-viewport-view-box/">
  <link rel="icon" href="/res/img/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/res/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/res/css/public.css">
  <link rel="stylesheet" href="/res/css/light.css">
  <script src="/res/js/light.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?28cf5fa48a599e39c5cc760931de942f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
</head>
<body>
  <div id="blog">
    <div class="sidebar">
  <div class="profilepic">
    <a href="/"><img src="/res/img/icon.png" alt="logo"></img></a>
  </div>
  <h1 class="title"><a href="/">Way Lau's Blog</a></h1>
  <h2 class="sub-title">技术改变世界！</h2>
  <nav id="nav">
    <ul>
    
      <li><a href="/timing/"><i class="fa fa-clock-o"></i>&nbsp;时光机</a></li>
    
      <li><a href="/categories/"><i class="fa fa-tags"></i>&nbsp;分类</a></li>
    
      <li><a href="/tags/"><i class="fa fa-bookmark"></i>&nbsp;标签</a></li>
    
      <li><a href="http://labs.waylau.com/"><i class="fa fa-building"></i>&nbsp;示例</a></li>
    
      <li><a href="/books/"><i class="fa fa-book"></i>&nbsp;书籍</a></li>
    
      <li><a href="/about/"><i class="fa fa-paper-plane-o"></i>&nbsp;关于</a></li>
    
    </ul>
  </nav>  
  <nav id="sub-nav">
    <a class="weibo " href="http://weibo.com/waylau521" title="新浪微博" target="_blank"><i class="fa fa-weibo "></i></a>
    <a class="github" href="https://github.com/waylau" title="GitHub" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    <a class="twitter" href="https://twitter.com/waylau521" title="Twitter" target="_blank"><i class="fa fa-twitter fa-2x"></i></a>
    <a class="rss" href="/page/feed.xml" title="RSS订阅" target="_blank"><i class="fa fa-rss"></i></a>
  </nav>
  <div id="license">
    <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" title="本站所有作品采用：&#10;知识共享《署名 非商业性使用 相同方式共享 3.0》&#10;进行许可" >
    <img alt="License" height="31" width="88" src="/res/img/license.png" /></a>
  </div>
</div>
    <div class="main">
    <header class="post-header">
  <h1 class="post-title"><a href="/svg-viewport-view-box/">SVG Viewport和View Box</a></h2>
  <p class="post-meta">
    <i class="fa fa-calendar"></i>
    2014年06月03日
    <i class="space"></i>
    <i class="fa fa-tags"></i>
    <a class="post-category" href="/page/category.html#svg">svg</a>	
  </p>
</header>
<div class="post-main">
<p>SVG Viewport和View Box用来设置图像的可见部分的尺寸。</p>

<h2>Viewport（视口）</h2>

<p>Viewport：视口，视觉窗口，是SVG图像的可见区域。SVG图像逻辑上是能显示你想要的宽和高，但实际上同一时间仅图像的某一部分是可见的。该可见的区域被称为Viewport。</p>

<p>您可以通过&lt;svg&gt;元素的<code>width</code>和<code>height</code>指定使用的Viewport宽度和高度的下面是一个例子：</p>

<pre><code>&lt;svg width="500" height="300"&gt;&lt;/svg&gt;
</code></pre>

<p>这例子定义了一个Viewport，500个单位宽和300个单位高。</p>

<h2>坐标单位</h2>

<p>如果你不指定任何内部宽度和高度属性的单位，单位都假定为像素。即，宽度500表示500个像素的宽度。</p>

<p>除了像素，还可以使用下面的单位：</p>

<table>
<thead>
<tr>
<th>单位 </th>
<th> 描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>em   </td>
<td>默认字体大小 ，通常是一个字符高度</td>
</tr>
<tr>
<td>ex   </td>
<td>x字符的高度</td>
</tr>
<tr>
<td>px   </td>
<td>像素</td>
</tr>
<tr>
<td>pt   </td>
<td>点（一英寸的1/72）</td>
</tr>
<tr>
<td>pc   </td>
<td>派卡（一英寸的1/6）</td>
</tr>
<tr>
<td>cm   </td>
<td>厘米</td>
</tr>
<tr>
<td>mm   </td>
<td>毫米</td>
</tr>
<tr>
<td>in   </td>
<td>英寸</td>
</tr>
</tbody>
</table>


<p>在&lt;svg&gt;元素里面设置单位只会影响的&lt;svg&gt;的大小（即Viewport）。在SVG图像中显示的SVG图形的大小由你对每个图形设置的单位决定。如果没有指定单位，各单位将默认为像素。</p>

<p>下面是一个例子：</p>

<pre><code>&lt;svg width="10cm" height="10cm"&gt;
    &lt;rect x="50" y="100" width="50" height="50"
          style="stroke: #000000; fill: none;"/&gt;
    &lt;rect x="100" y="100" width="50mm" height="50mm"
          style="stroke: #000000; fill: none;" /&gt;
&lt;/svg&gt;
</code></pre>

<p>该&lt;svg&gt;图像有其单位设置为厘米。两个&lt;rect&gt;元素都有自己的单位设置。一个使用像素（没有单位明确设定），另一个使用毫米。</p>

<p>这里是所得到的图象，右边的（单位毫米）大于左边（单位像素）。</p>

<p><svg width="10cm" height="10cm">
<rect x="50" y="100" width="50" height="50"
  style="stroke: #000000; fill: none;"/>
<rect x="100" y="100" width="50mm" height="50mm"
  style="stroke: #000000; fill: none;" />
</svg></p>

<h2>View Box</h2>

<p>您可以重新在&lt;svg&gt;元素内部定义没有单位的坐标，通过<code>viewBox</code>属性来实现。下面是一个例子：</p>

<pre><code>&lt;svg width="500" height="200" viewBox="0 0 50 20" style="border: 1px solid #234567;"&gt;
    &lt;rect x="20" y="10" width="10" height="5"
          style="stroke: #000000; fill:none;"/&gt;
&lt;/svg&gt;
</code></pre>

<p>此示例创建一个&lt;svg&gt;为500像素宽和200像素高，宽度元素的的<code>viewBox</code>属性包含四个坐标。这些坐标就定义了&lt;svg&gt;的<code>viewBox</code>属性。</p>

<p>在这种情况下，View Box跨度从0,0到50,20。这意味着，500 x 200像素 &lt;svg&gt;元素内部使用一个坐标系，它从0,0 到50,20。换言之，图形中使用的坐标，每1个单位，在&lt;svg&gt;对应于宽度500/50 = 10个像素，而在高200/20 = 10个像素。这就是为什么x轴为20及y轴为10的位置的矩形是真正位于（200,100），其宽度（10）和高度（5）对应于100个像素和50个像素。</p>

<p>另一种方式来解释它，<code>viewBox</code>属性的前两个坐标定义的是&lt;svg&gt;左上角的用户坐标，后两个坐标定义的是&lt;svg&gt;右下角的用户坐标。该&lt;svg&gt;内部的空间被解释为从左上角坐标到右下角坐标跨越。</p>

<p>这里是所得到的图象：</p>

<p><svg width="500" height="200" viewBox="0 0 50 20" style="border: 1px solid #234567;">
<rect x="20" y="10" width="10" height="5"
  style="stroke: #000000; fill:none;"/>
</svg></p>

<p>注意&lt;rect&gt;里面的所有坐标元素1个单位就代表10像素。</p>

<h2>preserveAspectRatio保持宽高比</h2>

<p>如果Viewport和View Box不具有相同的宽高比（宽度与高度之比），您需要指定SVG显示器（例如浏览器）如何显示SVG图像。使用&lt;svg&gt;的preserveAspectRatio属性。</p>

<p>该preserveAspectRatio属性需要用空格分隔的两个值。第一个值将告诉您View Box如何在Viewport中对齐。这个值本身就是两部分组成。第二个值将告诉您宽高比如何将被保留（如果有的话）。</p>

<p>第一个值指定的对齐由两部分组成。第一部分指定的x对齐和第二部分指定的y对齐。这里是x轴和y取向的值的列表：</p>

<table>
<thead>
<tr>
<th>值 </th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>xMin    </td>
<td>对齐View Box最小x轴的值与Viewport的左边缘。</td>
</tr>
<tr>
<td>xMid    </td>
<td>对齐View Box的x轴的中心与Viewport的中心x轴坐标。</td>
</tr>
<tr>
<td>xMax    </td>
<td>对齐View Box最大x轴的值与Viewport的右边缘。</td>
</tr>
<tr>
<td>YMin    </td>
<td>对齐View Box最小y轴的值与Viewport的顶部边缘。</td>
</tr>
<tr>
<td>YMid    </td>
<td>对齐View Box的y轴的中心与Viewport的中心y轴坐标。</td>
</tr>
<tr>
<td>YMin    </td>
<td>对齐View Box最大y轴的值与Viewport的底部边缘。</td>
</tr>
</tbody>
</table>


<p>这里有两个例子：</p>

<pre><code>xMaxYMax

xMidYMid
</code></pre>

<p>在preserveAspectRatio第二部分属性值可以采取三种不同的值：</p>

<table>
<thead>
<tr>
<th>值 </th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>meet </td>
<td>  保持宽高比和比例视图框，以适应内视口。</td>
</tr>
<tr>
<td>slice</td>
<td>  保留宽高比，任何不适合Viewport宽高比的图像的会被切掉。</td>
</tr>
<tr>
<td>none </td>
<td>  不保留宽高比。缩放图像以View Box充满完全适应Viewport。比例会被扭曲。</td>
</tr>
</tbody>
</table>


<p>在第二部分preserveAspectRatio属性值附加到第一部分，以空格分隔。这里有两个例子：</p>

<pre><code>preserveAspectRatio="xMidYMid meet"

preserveAspectRatio="xMinYMin slice"
</code></pre>

<p>下面的实施例都具有宽度为500，高度为75和的viewBox属性设为0 0 250 75。这意味着，沿x轴的每个坐标单元将对应于2个像素，而是沿着Y轴的每个坐标单位只对应1个像素。在x轴缩放比为500/250=2 ，y轴的缩放比为75/75=1。这可能会导致一个扭曲，但我们会在下面的例子查看如何设置各种preserveAspectRatio。</p>

<iframe style="width: 100%; height: 300px" src="http://www.w3.org/TR/SVG11/images/coords/PreserveAspectRatio.svg" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<p><a href="http://www.w3.org/TR/SVG11/images/coords/PreserveAspectRatio.svg">查看例子</a></p>

</div>
<div class="share">
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
  </div>
  <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["qzone","tsina","weixin","sqq"],"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/res/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>
<div class="pagination">

<a class="pagination-item newer" href="/svg-demo-draw/"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;SVG与JS交互实例之画板</a>


<a class="pagination-item older" href="/javascript-use-strict-mode/">JavaScript使用严格模式(Strict Mode)&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></a>

</div>
<div class="comments">
  <div class="ds-thread" data-title="SVG Viewport和View Box" data-thread-key="/svg-viewport-view-box" data-url="http://www.waylau.com/svg-viewport-view-box/"></div>
  <script type="text/javascript">var duoshuoQuery = {short_name:"waylau"};(function(){var ds = document.createElement('script');ds.type = 'text/javascript';ds.async = true;ds.src = '/res/js/embed.js';ds.charset = 'UTF-8';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);})();</script>
</div>
    <footer>Copyright&nbsp;&copy;&nbsp;2014 <a href="http://www.waylau.com">Way Lau's Blog</a><br/><i class="fa fa-cogs" style="color:blueviolet;">&nbsp;</i>Powered by <a href="https://github.com/waylau/jekyll-theme-blog" target="_blank">jekyll-theme-blog</a></footer>
    </div>


  </div>    
  <div id="top"><a id="rocket" href="javascript:;" title="返回顶部"><i></i></a></div>
  


</body>
</html>