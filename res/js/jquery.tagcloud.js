(function(f){f.fn.tagcloud=function(g){var h=f.extend({},f.fn.tagcloud.defaults,g);tagWeights=this.map(function(){return f(this).attr("rel")});tagWeights=jQuery.makeArray(tagWeights).sort(b);lowest=tagWeights[0];highest=tagWeights.pop();range=highest-lowest;if(range===0){range=1}if(h.size){fontIncr=(h.size.end-h.size.start)/range}if(h.color){colorIncr=c(h.color,range)}return this.each(function(){weighting=f(this).attr("rel")-lowest;if(h.size){f(this).css({"font-size":h.size.start+(weighting*fontIncr)+h.size.unit})}if(h.color){f(this).css({color:e(h.color,colorIncr,weighting)})}})};f.fn.tagcloud.defaults={size:{start:14,end:18,unit:"pt"}};function a(g){if(g.length==4){g=jQuery.map(/\w+/.exec(g),function(h){return h+h}).join("")}hex=/(\w{2})(\w{2})(\w{2})/.exec(g);return[parseInt(hex[1],16),parseInt(hex[2],16),parseInt(hex[3],16)]}function d(g){return"#"+jQuery.map(g,function(h){hex=h.toString(16);hex=(hex.length==1)?"0"+hex:hex;return hex}).join("")}function c(h,g){return jQuery.map(a(h.end),function(k,j){return(k-a(h.start)[j])/g})}function e(h,g,i){rgb=jQuery.map(a(h.start),function(k,j){ref=Math.round(k+(g[j]*i));if(ref>255){ref=255}else{if(ref<0){ref=0}}return ref});return d(rgb)}function b(h,g){return h-g}})(jQuery);